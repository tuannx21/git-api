!function c(a,u,i){function l(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,c,a,u,i)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,n){"use strict";var c=e("./promise-api"),r=document.querySelector("#input-new-repo"),a=document.querySelector("#user-avatar"),u=document.querySelector("#user-name"),i=document.querySelector("#user-email"),l=document.querySelector("#repo-list"),o=function(n){var e=document.querySelector("#repo-template").content.cloneNode(!0),t=e.querySelector("li"),r=t.querySelector("#repo-name"),o=t.querySelector("#btn-remove-repo");t.id="repo".concat(n.id),r.value=n.name,r.addEventListener("dblclick",function(){this.readOnly=!1}),r.addEventListener("keypress",function(e){var t=this;13!==e.which&&13!==e.keyCode||(this.readOnly=!0,(0,c.renameRepo)(n.owner.login,n.name,this.value).catch(function(e){t.value=n.name,alert(e)}))}),o.addEventListener("click",function(){var e;!0===confirm("you sure you want to delete repo ".concat(n.name," ?????"))&&(0,c.deleteRepo)(n).then((e=n.id,void(document.querySelector("#repo".concat(e)).style.display="none")))}),l.appendChild(e)};(function(){(0,c.getUser)().then(function(e){var t,n,r,o,c;n=(t=e).name,r=t.login,o=t.email,c=t.avatar_url,a.src=c,u.innerHTML=n||r,i.innerHTML=o}),(0,c.getAllRepos)().then(function(e){e.map(function(e){o(e)})})})(),r.addEventListener("keypress",function(e){if(13===e.which||13===e.keyCode){var t=r.value;(0,c.createRepo)({name:t}).then(function(e){o(e)}).catch(function(e){return alert(e)}),r.value=""}})},{"./promise-api":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deleteRepo=n.createRepo=n.renameRepo=n.getAllRepos=n.getUser=n.callAPI=void 0;var r=function(e,t,n){return fetch("".concat("https://api.github.com").concat(e),{method:t,headers:{Authorization:"Bearer ".concat("e007f511e4b8303e78435518e1a820b47a0d886a")},body:null==n?null:JSON.stringify(n)}).then(function(e){if(e.ok&&422!==e.status)return e.json();throw new Error("".concat(e.status,": ").concat(e.statusText))})};n.callAPI=r;n.getUser=function(){return r("/user","GET")};n.getAllRepos=function(){return r("/user/repos","GET")};n.renameRepo=function(e,t,n){return r("/repos/".concat(e,"/").concat(t),"PATCH",{name:n})};n.createRepo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{name:"Repo-create-by-api"};return r("/user/repos","POST",e)};n.deleteRepo=function(e){return r("/repos/".concat(e.owner.login,"/").concat(e.name),"DELETE")}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5taW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX3Byb21pc2VBcGkiLCJpbnB1dE5ld1JlcG8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbWdVc2VyQXZhdGFyIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJyZXBvc0xpc3QiLCJhZGRSZXBvSXRlbSIsInJlcG8iLCJjbG9uZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZXBvSXRlbSIsImlucHV0UmVwbyIsInJlbW92ZVJlcG8iLCJpZCIsImNvbmNhdCIsInZhbHVlIiwibmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwicmVhZE9ubHkiLCJldmVudCIsIl90aGlzIiwid2hpY2giLCJrZXlDb2RlIiwicmVuYW1lUmVwbyIsIm93bmVyIiwibG9naW4iLCJjYXRjaCIsImVyciIsImFsZXJ0IiwiY29uZmlybSIsImRlbGV0ZVJlcG8iLCJ0aGVuIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJnZXRVc2VyIiwidXNlciIsIl9yZWYiLCJlbWFpbCIsImF2YXRhcl91cmwiLCJzcmMiLCJpbm5lckhUTUwiLCJnZXRBbGxSZXBvcyIsInJlcG9zIiwibWFwIiwibG9hZERhdGEiLCJuZXdSZXBvTmFtZSIsImNyZWF0ZVJlcG8iLCJkYXRhIiwiZXIiLCIuL3Byb21pc2UtYXBpIiwiMiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY2FsbEFQSSIsImVuZHBvaW50IiwibWV0aG9kIiwiYm9keSIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJKU09OIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJvayIsInN0YXR1cyIsImpzb24iLCJzdGF0dXNUZXh0Iiwib2xkTmFtZSIsIm5l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LEVBQU80QyxFQUFTQyxHQUNuRCxPQUFPZixFQUFRLFVBQVV6QyxPQUFPVyxFQUFPLEtBQUtYLE9BQU91RCxHQUFVLFFBQVMsQ0FDcEVyRCxLQUFNc0QsS0FhVjlFLEVBQVF3RCxXQVBTLFdBQ2YsSUFBSXVCLEVBQTZCLEVBQW5CQyxVQUFVOUUsYUFBK0IrRSxJQUFqQkQsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLENBQ2hGeEQsS0FBTSxzQkFFUixPQUFPdUMsRUFBUSxjQUFlLE9BQVFnQixJQVN4Qy9FLEVBQVF1QyxXQUpTLFNBQW9CekIsR0FDbkMsT0FBT2lELEVBQVEsVUFBVXpDLE9BQU9SLEVBQUttQixNQUFNQyxNQUFPLEtBQUtaLE9BQU9SLEVBQUtVLE1BQU8sWUFLMUUsS0FBSyxHQUFHLENBQUMiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcHJvbWlzZUFwaSA9IHJlcXVpcmUoXCIuL3Byb21pc2UtYXBpXCIpO1xuXG52YXIgaW5wdXROZXdSZXBvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LW5ldy1yZXBvJyk7XG52YXIgaW1nVXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWF2YXRhcicpO1xudmFyIHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXItbmFtZScpO1xudmFyIHVzZXJFbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2VyLWVtYWlsJyk7XG52YXIgcmVwb3NMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlcG8tbGlzdCcpOyAvL0RPTSBtYW5pcHVsYXRlXG5cbnZhciBkZWxldGVFbGVtZW50ID0gZnVuY3Rpb24gZGVsZXRlRWxlbWVudChpZCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JlcG9cIi5jb25jYXQoaWQpKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufTsgLy9EaXNwbGF5aW5nIEFwcFxuXG5cbnZhciBzaG93VXNlckluZiA9IGZ1bmN0aW9uIHNob3dVc2VySW5mKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBsb2dpbiA9IF9yZWYubG9naW4sXG4gICAgICBlbWFpbCA9IF9yZWYuZW1haWwsXG4gICAgICBhdmF0YXJfdXJsID0gX3JlZi5hdmF0YXJfdXJsO1xuICBpbWdVc2VyQXZhdGFyLnNyYyA9IGF2YXRhcl91cmw7XG4gIHVzZXJOYW1lLmlubmVySFRNTCA9IG5hbWUgfHwgbG9naW47XG4gIHVzZXJFbWFpbC5pbm5lckhUTUwgPSBlbWFpbDtcbn07XG5cbnZhciBhZGRSZXBvSXRlbSA9IGZ1bmN0aW9uIGFkZFJlcG9JdGVtKHJlcG8pIHtcbiAgdmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlcG8tdGVtcGxhdGUnKTtcbiAgdmFyIGNsb25lID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gIHZhciByZXBvSXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ2xpJyk7XG4gIHZhciBpbnB1dFJlcG8gPSByZXBvSXRlbS5xdWVyeVNlbGVjdG9yKCcjcmVwby1uYW1lJyk7XG4gIHZhciByZW1vdmVSZXBvID0gcmVwb0l0ZW0ucXVlcnlTZWxlY3RvcignI2J0bi1yZW1vdmUtcmVwbycpO1xuICByZXBvSXRlbS5pZCA9IFwicmVwb1wiLmNvbmNhdChyZXBvLmlkKTtcbiAgaW5wdXRSZXBvLnZhbHVlID0gcmVwby5uYW1lO1xuICBpbnB1dFJlcG8uYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZWFkT25seSA9IGZhbHNlO1xuICB9KTtcbiAgaW5wdXRSZXBvLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChldmVudC53aGljaCA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIHRoaXMucmVhZE9ubHkgPSB0cnVlO1xuICAgICAgKDAsIF9wcm9taXNlQXBpLnJlbmFtZVJlcG8pKHJlcG8ub3duZXIubG9naW4sIHJlcG8ubmFtZSwgdGhpcy52YWx1ZSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpcy52YWx1ZSA9IHJlcG8ubmFtZTtcbiAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJlbW92ZVJlcG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpcm1EZWxldGVCb3ggPSBjb25maXJtKFwieW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHJlcG8gXCIuY29uY2F0KHJlcG8ubmFtZSwgXCIgPz8/Pz9cIikpO1xuXG4gICAgaWYgKGNvbmZpcm1EZWxldGVCb3ggPT09IHRydWUpIHtcbiAgICAgICgwLCBfcHJvbWlzZUFwaS5kZWxldGVSZXBvKShyZXBvKS50aGVuKGRlbGV0ZUVsZW1lbnQocmVwby5pZCkpO1xuICAgIH1cbiAgfSk7XG4gIHJlcG9zTGlzdC5hcHBlbmRDaGlsZChjbG9uZSk7XG59O1xuXG52YXIgc2hvd1JlcG9zID0gZnVuY3Rpb24gc2hvd1JlcG9zKHJlcG9zKSB7XG4gIHJlcG9zLm1hcChmdW5jdGlvbiAocmVwbykge1xuICAgIGFkZFJlcG9JdGVtKHJlcG8pO1xuICB9KTtcbn07IC8vVXRpbFxuXG5cbnZhciBvbktleVByZXNzQWNjZXNzS2V5ID0gZnVuY3Rpb24gb25LZXlQcmVzc0FjY2Vzc0tleSgpIHtcbiAgaW5wdXROZXdSZXBvLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgdmFyIG5ld1JlcG9OYW1lID0gaW5wdXROZXdSZXBvLnZhbHVlO1xuICAgICAgKDAsIF9wcm9taXNlQXBpLmNyZWF0ZVJlcG8pKHtcbiAgICAgICAgbmFtZTogbmV3UmVwb05hbWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgYWRkUmVwb0l0ZW0oZGF0YSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgcmV0dXJuIGFsZXJ0KGVyKTtcbiAgICAgIH0pO1xuICAgICAgaW5wdXROZXdSZXBvLnZhbHVlID0gJyc7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBsb2FkRGF0YSA9IGZ1bmN0aW9uIGxvYWREYXRhKCkge1xuICAoMCwgX3Byb21pc2VBcGkuZ2V0VXNlcikoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgc2hvd1VzZXJJbmYodXNlcik7XG4gIH0pO1xuICAoMCwgX3Byb21pc2VBcGkuZ2V0QWxsUmVwb3MpKCkudGhlbihmdW5jdGlvbiAocmVwb3MpIHtcbiAgICBzaG93UmVwb3MocmVwb3MpO1xuICB9KTtcbn07XG5cbnZhciBBcHAgPSBmdW5jdGlvbiBBcHAoKSB7XG4gIGxvYWREYXRhKCk7XG4gIG9uS2V5UHJlc3NBY2Nlc3NLZXkoKTtcbn07IC8vc3RhcnQgQXBwXG5cblxuQXBwKCk7XG5cbn0se1wiLi9wcm9taXNlLWFwaVwiOjJ9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWxldGVSZXBvID0gZXhwb3J0cy5jcmVhdGVSZXBvID0gZXhwb3J0cy5yZW5hbWVSZXBvID0gZXhwb3J0cy5nZXRBbGxSZXBvcyA9IGV4cG9ydHMuZ2V0VXNlciA9IGV4cG9ydHMuY2FsbEFQSSA9IHZvaWQgMDtcbnZhciBob3N0VVJMID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20nO1xudmFyIGFjY2Vzc0tleSA9ICdlMDA3ZjUxMWU0YjgzMDNlNzg0MzU1MThlMWE4MjBiNDdhMGQ4ODZhJzsgLy9Qcm9taXNlXG5cbnZhciBjYWxsQVBJID0gZnVuY3Rpb24gY2FsbEFQSShlbmRwb2ludCwgbWV0aG9kLCBib2R5KSB7XG4gIHJldHVybiBmZXRjaChcIlwiLmNvbmNhdChob3N0VVJMKS5jb25jYXQoZW5kcG9pbnQpLCB7XG4gICAgbWV0aG9kOiBtZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzS2V5KVxuICAgIH0sXG4gICAgYm9keTogYm9keSA9PT0gdW5kZWZpbmVkIHx8IGJvZHkgPT09IG51bGwgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uub2sgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MjIpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChyZXNwb25zZS5zdGF0dXMsIFwiOiBcIikuY29uY2F0KHJlc3BvbnNlLnN0YXR1c1RleHQpKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0cy5jYWxsQVBJID0gY2FsbEFQSTtcblxudmFyIGdldFVzZXIgPSBmdW5jdGlvbiBnZXRVc2VyKCkge1xuICByZXR1cm4gY2FsbEFQSSgnL3VzZXInLCAnR0VUJyk7XG59O1xuXG5leHBvcnRzLmdldFVzZXIgPSBnZXRVc2VyO1xuXG52YXIgZ2V0QWxsUmVwb3MgPSBmdW5jdGlvbiBnZXRBbGxSZXBvcygpIHtcbiAgcmV0dXJuIGNhbGxBUEkoJy91c2VyL3JlcG9zJywgJ0dFVCcpO1xufTtcblxuZXhwb3J0cy5nZXRBbGxSZXBvcyA9IGdldEFsbFJlcG9zO1xuXG52YXIgcmVuYW1lUmVwbyA9IGZ1bmN0aW9uIHJlbmFtZVJlcG8ob3duZXIsIG9sZE5hbWUsIG5ld05hbWUpIHtcbiAgcmV0dXJuIGNhbGxBUEkoXCIvcmVwb3MvXCIuY29uY2F0KG93bmVyLCBcIi9cIikuY29uY2F0KG9sZE5hbWUpLCAnUEFUQ0gnLCB7XG4gICAgbmFtZTogbmV3TmFtZVxuICB9KTtcbn07XG5cbmV4cG9ydHMucmVuYW1lUmVwbyA9IHJlbmFtZVJlcG87XG5cbnZhciBjcmVhdGVSZXBvID0gZnVuY3Rpb24gY3JlYXRlUmVwbygpIHtcbiAgdmFyIG5ld1JlcG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHtcbiAgICBuYW1lOiAnUmVwby1jcmVhdGUtYnktYXBpJ1xuICB9O1xuICByZXR1cm4gY2FsbEFQSSgnL3VzZXIvcmVwb3MnLCAnUE9TVCcsIG5ld1JlcG8pO1xufTtcblxuZXhwb3J0cy5jcmVhdGVSZXBvID0gY3JlYXRlUmVwbztcblxudmFyIGRlbGV0ZVJlcG8gPSBmdW5jdGlvbiBkZWxldGVSZXBvKHJlcG8pIHtcbiAgcmV0dXJuIGNhbGxBUEkoXCIvcmVwb3MvXCIuY29uY2F0KHJlcG8ub3duZXIubG9naW4sIFwiL1wiKS5jb25jYXQocmVwby5uYW1lKSwgJ0RFTEVURScpO1xufTtcblxuZXhwb3J0cy5kZWxldGVSZXBvID0gZGVsZXRlUmVwbztcblxufSx7fV19LHt9LFsxXSk7XG4iXX0=
