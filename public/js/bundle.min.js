!function i(c,a,u){function s(t,e){if(!a[t]){if(!c[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};c[t][0].call(o.exports,function(e){return s(c[t][1][e]||e)},o,o.exports,i,c,a,u)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,r){"use strict";var c=e("./promiseAPI"),o="git-access-key",i=document.querySelector("#input-access-key"),a=document.querySelector("#userAvatar"),u=document.querySelector("#userName"),s=document.querySelector("#userEmail"),l=document.querySelector("#repoList"),d=function(){l.innerHTML=null,s.innerHTML=null,u.innerHTML=null,a.src=null},n=function(){i.addEventListener("keypress",function(e){if(13===e.which||13===e.keyCode){d();var t=i.value;r=o,n=t,window.localStorage.setItem(r,JSON.stringify(n)),p(t),i.value=""}var r,n})},p=function(e){d();var t,r=void 0===e?(t=o,JSON.parse(window.localStorage.getItem(t))).toString():e;(0,c.getUser)(r).then(function(e){var t,r,n,o,i;r=(t=e).name,n=t.login,o=t.email,i=t.avatar_url,a.src=i,u.innerHTML=r||n,s.innerHTML=o}),(0,c.getAllRepos)(r).then(function(e){var i;i=r,e.map(function(t){var e=document.querySelector("#repo-template").content.cloneNode(!0),r=e.querySelector("li"),n=r.querySelector("#repoName"),o=r.querySelector("#btnRemoveRepo");r.id=t.id,n.value=t.name,n.addEventListener("dblclick",function(){this.readOnly=!1}),n.addEventListener("keypress",function(e){13!==e.which&&13!==e.keyCode||(this.readOnly=!0,(0,c.renameRepo)(i,t.owner.login,t.name,this.value).then(alert("U have edited success, it may take a while to completely rename")))}),o.addEventListener("click",function(){!0===confirm("you sure you want to delete repo ".concat(t.name," ?????"))&&((0,c.deleteRepo)(i,t.owner.login,t.name),p())}),l.appendChild(e)})})};p(),n()},{"./promiseAPI":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deleteRepo=r.createRepo=r.renameRepo=r.getAllRepos=r.getUser=void 0;r.getUser=function(e){return fetch("https://api.github.com/user",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()})};r.getAllRepos=function(e){return fetch("https://api.github.com/user/repos",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.json()})};r.renameRepo=function(e,t,r,n){return fetch("https://api.github.com/repos/".concat(t,"/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify({name:n})})};r.createRepo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{name:"Repo-create-by-api"};return fetch("https://api.github.com/user/repos",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})};r.deleteRepo=function(e,t,r){return fetch("https://api.github.com/repos/".concat(t,"/").concat(r),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).catch(function(e){alert("errorrrrrr")})}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5taW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX3Byb21pc2VBUEkiLCJsYWJlbEFjY2Vzc0tleSIsImlucHV0QWNjZXNzS2V5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW1nVXNlckF2YXRhciIsInVzZXJOYW1lIiwidXNlckVtYWlsIiwicmVwb3NMaXN0IiwiY2xlYXJBbGwiLCJpbm5lckhUTUwiLCJzcmMiLCJvbktleVByZXNzQWNjZXNzS2V5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwid2hpY2giLCJrZXlDb2RlIiwiYWNjZXNzS2V5IiwidmFsdWUiLCJsYWJlbCIsIml0ZW0iLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWREYXRhIiwia2V5IiwidW5kZWZpbmVkIiwicGFyc2UiLCJnZXRJdGVtIiwidG9TdHJpbmciLCJnZXRVc2VyIiwidGhlbiIsInVzZXIiLCJfcmVmIiwibmFtZSIsImxvZ2luIiwiZW1haWwiLCJhdmF0YXJfdXJsIiwiZ2V0QWxsUmVwb3MiLCJyZXBvcyIsIm1hcCIsInJlcG8iLCJjbG9uZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZXBvSXRlbSIsImlucHV0UmVwbyIsInJlbW92ZVJlcG8iLCJpZCIsInRoaXMiLCJyZWFkT25seSIsInJlbmFtZVJlcG8iLCJvd25lciIsImFsZXJ0IiwiY29uZmlybSIsImNvbmNhdCIsImRlbGV0ZVJlcG8iLCJhcHBlbmRDaGlsZCIsIi4vcHJvbWlzZUFQSSIsIjIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNyZWF0ZVJlcG8iLCJmZXRjaCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmVzcG9uc2UiLCJqc29uIiwib2xkTmFtZSIsIm5ld05hbWUiLCJtZXRob2QiLCJib2R5IiwibmV3UmVwbyIsImFyZ3VtZW50cyIsInJlcG9OYW1lIiwiY2F0Y2giLCJlcnJvciJdLCJtYXBwaW5ncyI6IkNBQVksU0FBU0EsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxTQUFTQyxFQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsSUFBSUUsRUFBRSxtQkFBbUJDLFNBQVNBLFFBQVEsSUFBSUYsR0FBR0MsRUFBRSxPQUFPQSxFQUFFRixHQUFFLEdBQUksR0FBR0ksRUFBRSxPQUFPQSxFQUFFSixHQUFFLEdBQUksSUFBSUssRUFBRSxJQUFJQyxNQUFNLHVCQUF1Qk4sRUFBRSxLQUFLLE1BQU1LLEVBQUVFLEtBQUssbUJBQW1CRixFQUFFLElBQUlHLEVBQUVYLEVBQUVHLEdBQUcsQ0FBQ1MsUUFBUSxJQUFJYixFQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBb0IsT0FBT0ksRUFBbEJILEVBQUVJLEdBQUcsR0FBR0wsSUFBZUEsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxPQUFPRCxFQUFFRyxHQUFHUyxRQUFRLElBQUksSUFBSUwsRUFBRSxtQkFBbUJELFNBQVNBLFFBQVFILEVBQUUsRUFBRUEsRUFBRUYsRUFBRWEsT0FBT1gsSUFBSUQsRUFBRUQsRUFBRUUsSUFBSSxPQUFPRCxFQUE3YixDQUE0YyxDQUFDYSxFQUFFLENBQUMsU0FBU1QsRUFBUVUsRUFBT0osR0FDeGUsYUFFQSxJQUFJSyxFQUFjWCxFQUFRLGdCQUV0QlksRUFBaUIsaUJBQ2pCQyxFQUFpQkMsU0FBU0MsY0FBYyxxQkFDeENDLEVBQWdCRixTQUFTQyxjQUFjLGVBQ3ZDRSxFQUFXSCxTQUFTQyxjQUFjLGFBQ2xDRyxFQUFZSixTQUFTQyxjQUFjLGNBQ25DSSxFQUFZTCxTQUFTQyxjQUFjLGFBa0RuQ0ssRUFBVyxXQUNiRCxFQUFVRSxVQUFZ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QVdxQyxFQUFPZ0IsRUFBU0MsR0FDOUQsT0FBT04sTUFBTSxnQ0FBZ0NSLE9BQU9ILEVBQU8sS0FBS0csT0FBT2EsR0FBVSxDQUMvRUUsT0FBUSxRQUNSTixRQUFTLENBQ1BDLGNBQWlCLFVBQVVWLE9BQU94QyxJQUVwQ3dELEtBQU1qRCxLQUFLQyxVQUFVLENBQ25CVyxLQUFNbUMsT0FvQlo1RSxFQUFRcUUsV0FiUyxTQUFvQi9DLEdBQ25DLElBQUl5RCxFQUE2QixFQUFuQkMsVUFBVTlFLGFBQStCK0IsSUFBakIrQyxVQUFVLEdBQW1CQSxVQUFVLEdBQUssQ0FDaEZ2QyxLQUFNLHNCQUVSLE9BQU82QixNQUFNLG9DQUFxQyxDQUNoRE8sT0FBUSxPQUNSTixRQUFTLENBQ1BDLGNBQWlCLFVBQVVWLE9BQU94QyxJQUVwQ3dELEtBQU1qRCxLQUFLQyxVQUFVaUQsTUFpQnpCL0UsRUFBUStELFdBWFMsU0FBb0J6QyxFQUFXcUMsRUFBT3NCLEdBQ3JELE9BQU9YLE1BQU0sZ0NBQWdDUixPQUFPSCxFQUFPLEtBQUtHLE9BQU9tQixHQUFXLENBQ2hGSixPQUFRLFNBQ1JOLFFBQVMsQ0FDUEMsY0FBaUIsVUFBVVYsT0FBT3hDLE1BRW5DNEQsTUFBTSxTQUFVQyxHQUNqQnZCLE1BQU0sa0JBTVIsS0FBSyxHQUFHLENBQUMiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcHJvbWlzZUFQSSA9IHJlcXVpcmUoXCIuL3Byb21pc2VBUElcIik7XG5cbnZhciBsYWJlbEFjY2Vzc0tleSA9ICdnaXQtYWNjZXNzLWtleSc7XG52YXIgaW5wdXRBY2Nlc3NLZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtYWNjZXNzLWtleScpO1xudmFyIGltZ1VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlckF2YXRhcicpO1xudmFyIHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXJOYW1lJyk7XG52YXIgdXNlckVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXJFbWFpbCcpO1xudmFyIHJlcG9zTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXBvTGlzdCcpOyAvL0Rpc3BsYXlpbmcgQXBwXG5cbnZhciBzaG93VXNlckluZiA9IGZ1bmN0aW9uIHNob3dVc2VySW5mKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBsb2dpbiA9IF9yZWYubG9naW4sXG4gICAgICBlbWFpbCA9IF9yZWYuZW1haWwsXG4gICAgICBhdmF0YXJfdXJsID0gX3JlZi5hdmF0YXJfdXJsO1xuICBpbWdVc2VyQXZhdGFyLnNyYyA9IGF2YXRhcl91cmw7XG4gIHVzZXJOYW1lLmlubmVySFRNTCA9IG5hbWUgfHwgbG9naW47XG4gIHVzZXJFbWFpbC5pbm5lckhUTUwgPSBlbWFpbDtcbn07XG5cbnZhciBzaG93UmVwb3MgPSBmdW5jdGlvbiBzaG93UmVwb3MocmVwb3MsIGFjY2Vzc0tleSkge1xuICByZXBvcy5tYXAoZnVuY3Rpb24gKHJlcG8pIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVwby10ZW1wbGF0ZScpO1xuICAgIHZhciBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHZhciByZXBvSXRlbSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJ2xpJyk7XG4gICAgdmFyIGlucHV0UmVwbyA9IHJlcG9JdGVtLnF1ZXJ5U2VsZWN0b3IoJyNyZXBvTmFtZScpO1xuICAgIHZhciByZW1vdmVSZXBvID0gcmVwb0l0ZW0ucXVlcnlTZWxlY3RvcignI2J0blJlbW92ZVJlcG8nKTtcbiAgICByZXBvSXRlbS5pZCA9IHJlcG8uaWQ7XG4gICAgaW5wdXRSZXBvLnZhbHVlID0gcmVwby5uYW1lO1xuICAgIGlucHV0UmVwby5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVhZE9ubHkgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBpbnB1dFJlcG8uYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMgfHwgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgdGhpcy5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICgwLCBfcHJvbWlzZUFQSS5yZW5hbWVSZXBvKShhY2Nlc3NLZXksIHJlcG8ub3duZXIubG9naW4sIHJlcG8ubmFtZSwgdGhpcy52YWx1ZSkudGhlbihhbGVydCgnVSBoYXZlIGVkaXRlZCBzdWNjZXNzLCBpdCBtYXkgdGFrZSBhIHdoaWxlIHRvIGNvbXBsZXRlbHkgcmVuYW1lJykpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlbW92ZVJlcG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29uZmlybURlbGV0ZUJveCA9IGNvbmZpcm0oXCJ5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgcmVwbyBcIi5jb25jYXQocmVwby5uYW1lLCBcIiA/Pz8/P1wiKSk7XG5cbiAgICAgIGlmIChjb25maXJtRGVsZXRlQm94ID09PSB0cnVlKSB7XG4gICAgICAgICgwLCBfcHJvbWlzZUFQSS5kZWxldGVSZXBvKShhY2Nlc3NLZXksIHJlcG8ub3duZXIubG9naW4sIHJlcG8ubmFtZSk7XG4gICAgICAgIGxvYWREYXRhKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmVwb3NMaXN0LmFwcGVuZENoaWxkKGNsb25lKTtcbiAgfSk7XG59OyAvL1B1cmUgRnVuY3Rpb25cblxuXG52YXIgZmlsdGVyQnlPd25lciA9IGZ1bmN0aW9uIGZpbHRlckJ5T3duZXIocmVwb3MpIHtcbiAgcmV0dXJuIHJlcG9zLmZpbHRlcihmdW5jdGlvbiAocmVwbykge1xuICAgIHJldHVybiByZXBvLm93bmVyLmxvZ2luID09PSB1c2Vycy5sb2dpbjtcbiAgfSk7XG59OyAvL1V0aWxcblxuXG52YXIgY2xlYXJBbGwgPSBmdW5jdGlvbiBjbGVhckFsbCgpIHtcbiAgcmVwb3NMaXN0LmlubmVySFRNTCA9IG51bGw7XG4gIHVzZXJFbWFpbC5pbm5lckhUTUwgPSBudWxsO1xuICB1c2VyTmFtZS5pbm5lckhUTUwgPSBudWxsO1xuICBpbWdVc2VyQXZhdGFyLnNyYyA9IG51bGw7XG59O1xuXG52YXIgc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2F2ZVRvTG9jYWxTdG9yYWdlKGxhYmVsLCBpdGVtKSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsYWJlbCwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xufTtcblxudmFyIGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UobGFiZWwpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGxhYmVsKSk7XG59O1xuXG52YXIgb25LZXlQcmVzc0FjY2Vzc0tleSA9IGZ1bmN0aW9uIG9uS2V5UHJlc3NBY2Nlc3NLZXkoKSB7XG4gIGlucHV0QWNjZXNzS2V5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgY2xlYXJBbGwoKTtcbiAgICAgIHZhciBhY2Nlc3NLZXkgPSBpbnB1dEFjY2Vzc0tleS52YWx1ZTtcbiAgICAgIHNhdmVUb0xvY2FsU3RvcmFnZShsYWJlbEFjY2Vzc0tleSwgYWNjZXNzS2V5KTtcbiAgICAgIGxvYWREYXRhKGFjY2Vzc0tleSk7XG4gICAgICBpbnB1dEFjY2Vzc0tleS52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgbG9hZERhdGEgPSBmdW5jdGlvbiBsb2FkRGF0YShhY2Nlc3NLZXkpIHtcbiAgY2xlYXJBbGwoKTtcbiAgdmFyIGtleSA9IGFjY2Vzc0tleSA9PT0gdW5kZWZpbmVkID8gZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UobGFiZWxBY2Nlc3NLZXkpLnRvU3RyaW5nKCkgOiBhY2Nlc3NLZXk7XG4gICgwLCBfcHJvbWlzZUFQSS5nZXRVc2VyKShrZXkpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICBzaG93VXNlckluZih1c2VyKTtcbiAgfSk7XG4gICgwLCBfcHJvbWlzZUFQSS5nZXRBbGxSZXBvcykoa2V5KS50aGVuKGZ1bmN0aW9uIChyZXBvcykge1xuICAgIHNob3dSZXBvcyhyZXBvcywga2V5KTtcbiAgfSk7XG59O1xuXG52YXIgQXBwID0gZnVuY3Rpb24gQXBwKCkge1xuICBsb2FkRGF0YSgpO1xuICBvbktleVByZXNzQWNjZXNzS2V5KCk7XG59OyAvL3N0YXJ0IEFwcFxuXG5cbkFwcCgpO1xuXG59LHtcIi4vcHJvbWlzZUFQSVwiOjJ9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWxldGVSZXBvID0gZXhwb3J0cy5jcmVhdGVSZXBvID0gZXhwb3J0cy5yZW5hbWVSZXBvID0gZXhwb3J0cy5nZXRBbGxSZXBvcyA9IGV4cG9ydHMuZ2V0VXNlciA9IHZvaWQgMDtcblxuLy9Qcm9taXNlXG52YXIgZ2V0VXNlciA9IGZ1bmN0aW9uIGdldFVzZXIoYWNjZXNzS2V5KSB7XG4gIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2VyJywge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgICdBdXRob3JpemF0aW9uJzogXCJCZWFyZXIgXCIuY29uY2F0KGFjY2Vzc0tleSlcbiAgICB9XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfSk7XG59O1xuXG5leHBvcnRzLmdldFVzZXIgPSBnZXRVc2VyO1xuXG52YXIgZ2V0QWxsUmVwb3MgPSBmdW5jdGlvbiBnZXRBbGxSZXBvcyhhY2Nlc3NLZXkpIHtcbiAgcmV0dXJuIGZldGNoKCdodHRwczovL2FwaS5naXRodWIuY29tL3VzZXIvcmVwb3MnLCB7XG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzS2V5KVxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICB9KTtcbn07XG5cbmV4cG9ydHMuZ2V0QWxsUmVwb3MgPSBnZXRBbGxSZXBvcztcblxudmFyIHJlbmFtZVJlcG8gPSBmdW5jdGlvbiByZW5hbWVSZXBvKGFjY2Vzc0tleSwgb3duZXIsIG9sZE5hbWUsIG5ld05hbWUpIHtcbiAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9cIi5jb25jYXQob3duZXIsIFwiL1wiKS5jb25jYXQob2xkTmFtZSksIHtcbiAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzS2V5KVxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZTogbmV3TmFtZVxuICAgIH0pXG4gIH0pO1xufTtcblxuZXhwb3J0cy5yZW5hbWVSZXBvID0gcmVuYW1lUmVwbztcblxudmFyIGNyZWF0ZVJlcG8gPSBmdW5jdGlvbiBjcmVhdGVSZXBvKGFjY2Vzc0tleSkge1xuICB2YXIgbmV3UmVwbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgIG5hbWU6ICdSZXBvLWNyZWF0ZS1ieS1hcGknXG4gIH07XG4gIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlci9yZXBvc1wiLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzS2V5KVxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3UmVwbylcbiAgfSk7XG59O1xuXG5leHBvcnRzLmNyZWF0ZVJlcG8gPSBjcmVhdGVSZXBvO1xuXG52YXIgZGVsZXRlUmVwbyA9IGZ1bmN0aW9uIGRlbGV0ZVJlcG8oYWNjZXNzS2V5LCBvd25lciwgcmVwb05hbWUpIHtcbiAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9cIi5jb25jYXQob3duZXIsIFwiL1wiKS5jb25jYXQocmVwb05hbWUpLCB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQXV0aG9yaXphdGlvbic6IFwiQmVhcmVyIFwiLmNvbmNhdChhY2Nlc3NLZXkpXG4gICAgfVxuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBhbGVydChcImVycm9ycnJycnJcIik7XG4gIH0pO1xufTtcblxuZXhwb3J0cy5kZWxldGVSZXBvID0gZGVsZXRlUmVwbztcblxufSx7fV19LHt9LFsxXSk7XG4iXX0=
